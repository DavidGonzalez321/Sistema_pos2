{"ast":null,"code":"import _regeneratorRuntime from \"C:/xampp/htdocs/pos/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/pos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport HttpService from '../../Servicios/HttpService';\nimport FormUsuario from './FormUsuario';\nexport default {\n  name: \"EditarUsuario\",\n  components: {\n    FormUsuario: FormUsuario\n  },\n  data: function data() {\n    return {\n      datosUsuario: null,\n      cargando: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var usuario;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.cargando = true;\n              _context.next = 3;\n              return HttpService.obtenerConConsultas('usuarios.php', {\n                accion: 'obtener_por_id',\n                id: _this.$route.params.id\n              });\n\n            case 3:\n              usuario = _context.sent;\n              _this.datosUsuario = usuario;\n              _this.cargando = false;\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    onEditar: function onEditar(datosUsuario) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var resultado;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.cargando = true;\n                _context2.next = 3;\n                return HttpService.editar('usuarios.php', {\n                  accion: 'editar',\n                  usuario: datosUsuario\n                });\n\n              case 3:\n                resultado = _context2.sent;\n\n                if (resultado) {\n                  _this2.cargando = false;\n\n                  _this2.$buefy.toast.open({\n                    type: 'is-info',\n                    message: 'Información de usuario actualizada con éxito.'\n                  });\n\n                  _this2.$router.push({\n                    name: 'UsuariosComponent'\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAeA;AACA;AAEA;EACAA,qBADA;EAEAC;IAAAC;EAAA,CAFA;EAIAC;IAAA;MACAC,kBADA;MAEAC;IAFA;EAAA,CAJA;EASAC,OATA,qBASA;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cADA;cAAA,OAEAC;gBACAC,wBADA;gBAEAC;cAFA,EAFA;;YAAA;cAEAC,OAFA;cAMA;cACA;;YAPA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAQA,CAjBA;EAmBAC;IACAC,QADA,oBACAR,YADA,EACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBADA;gBAAA,OAEAG;kBACAC,gBADA;kBAEAE;gBAFA,EAFA;;cAAA;gBAEAG,SAFA;;gBAOA;kBACA;;kBACA;oBACAC,eADA;oBAEAC;kBAFA;;kBAIA;oBAAAf;kBAAA;gBACA;;cAdA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAeA;EAhBA;AAnBA","names":["name","components","FormUsuario","data","datosUsuario","cargando","mounted","HttpService","accion","id","usuario","methods","onEditar","resultado","type","message"],"sourceRoot":"src/components/Usuarios","sources":["EditarUsuario.vue"],"sourcesContent":["<template>\r\n    <section>\r\n        <h1 class=\"title is-1\">Editar usuario</h1>\r\n         <b-breadcrumb\r\n            align=\"is-left\"\r\n        >\r\n            <b-breadcrumb-item tag='router-link' to=\"/\">Inicio</b-breadcrumb-item>\r\n            <b-breadcrumb-item tag='router-link' to=\"/usuarios\">Usuarios</b-breadcrumb-item>\r\n            <b-breadcrumb-item active>Editar usuario</b-breadcrumb-item>\r\n        </b-breadcrumb>\r\n        <form-usuario :usuario=\"datosUsuario\" @registrar=\"onEditar\" v-if=\"datosUsuario\"/>\r\n        <b-loading :is-full-page=\"true\" v-model=\"cargando\" :can-cancel=\"false\"></b-loading>\r\n    </section>\r\n</template>\r\n<script>\r\n    import HttpService from '../../Servicios/HttpService'\r\n    import FormUsuario from './FormUsuario'\r\n\r\n    export default{\r\n        name: \"EditarUsuario\",\r\n        components: { FormUsuario },\r\n\r\n        data:()=>({\r\n            datosUsuario: null,\r\n            cargando: false\r\n        }),\r\n\r\n        async mounted(){\r\n            this.cargando = true\r\n            const usuario = await HttpService.obtenerConConsultas('usuarios.php', {\r\n                accion: 'obtener_por_id',\r\n                id: this.$route.params.id\r\n            }) \r\n            this.datosUsuario = usuario\r\n            this.cargando = false\r\n        },\r\n\r\n        methods: {\r\n            async onEditar(datosUsuario) {\r\n                this.cargando = true\r\n                const resultado = await HttpService.editar('usuarios.php',{\r\n                    accion: 'editar',\r\n                    usuario: datosUsuario\r\n                })\r\n\r\n                if(resultado) {\r\n                    this.cargando = false\r\n                    this.$buefy.toast.open({\r\n                         type: 'is-info',\r\n                         message: 'Información de usuario actualizada con éxito.'\r\n                    })\r\n                    this.$router.push({ name: 'UsuariosComponent'})\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>"]},"metadata":{},"sourceType":"module"}