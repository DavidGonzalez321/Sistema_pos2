{"ast":null,"code":"import _slicedToArray from \"C:/xampp/htdocs/pos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport Chart from 'chart.js';\nvar RUTA = 'http://localhost/pos/api';\nvar MESES = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\nvar Utiles = {\n  resetearGrafica: function resetearGrafica(contenedor, grafica, id) {\n    var $contenedorGrafica = document.querySelector(contenedor);\n    var $grafica = document.querySelector(grafica);\n    $grafica.remove();\n    var $nuevaGrafica = document.createElement(\"canvas\");\n    $nuevaGrafica.setAttribute(\"id\", id);\n    $contenedorGrafica.appendChild($nuevaGrafica);\n  },\n  generarGrafica: function generarGrafica(tipo, array, contenedor, grafica, id) {\n    this.resetearGrafica(contenedor, grafica, id);\n    var labels = this.generarEtiquetas(array);\n    var totales = this.generarValores(array);\n    var data = {\n      labels: labels,\n      datasets: [{\n        label: \"Total \",\n        data: totales,\n        backgroundColor: this.generarColores(labels.length),\n        fill: false,\n        tension: 0.1,\n        borderWidth: 3\n      }]\n    };\n    var ctx = document.getElementById(id).getContext('2d');\n    var options = {\n      responsive: true,\n      maintainAspectRatio: false,\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    };\n    new Chart(ctx, {\n      responsive: true,\n      type: tipo,\n      data: data,\n      options: options\n    });\n  },\n  generarColores: function generarColores(tamanio) {\n    var colores = [];\n\n    for (var i = 0; i < tamanio; i++) {\n      colores.push(\"#\" + Math.floor(Math.random() * 16777215).toString(16));\n    }\n\n    return colores;\n  },\n  cambiarNumeroANombreMes: function cambiarNumeroANombreMes(array) {\n    for (var i = 0; i < array.length; i++) {\n      var pos = array[i].mes;\n      array[i].mes = MESES[pos - 1];\n    }\n\n    return array;\n  },\n  generarEtiquetas: function generarEtiquetas(array) {\n    var labels = array.map(function (elemento) {\n      return elemento[Object.keys(elemento)[0]];\n    });\n    return labels;\n  },\n  generarValores: function generarValores(array) {\n    var totales = array.map(function (elemento) {\n      return elemento.totalVentas;\n    });\n    return totales;\n  },\n  validarDatos: function validarDatos(datos) {\n    var errores = [];\n\n    for (var _i = 0, _Object$entries = Object.entries(datos); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          clave = _Object$entries$_i[0],\n          valor = _Object$entries$_i[1];\n\n      if (!valor) errores.push(\"Debes colocar el valor de \" + clave);\n    }\n\n    return errores;\n  },\n  calcularTotalGanancia: function calcularTotalGanancia(ventas) {\n    var total = 0;\n    ventas.forEach(function (venta) {\n      venta.productos.forEach(function (producto) {\n        total += parseFloat(producto.cantidad * producto.precio) - parseFloat(producto.cantidad * producto.precioCompra);\n      });\n    });\n    return total;\n  },\n  calcularProductosVendidos: function calcularProductosVendidos(ventas) {\n    var total = 0;\n    ventas.forEach(function (venta) {\n      venta.productos.forEach(function (producto) {\n        total += parseFloat(producto.cantidad);\n      });\n    });\n    return total;\n  },\n  regresarRuta: function regresarRuta() {\n    return RUTA;\n  }\n};\nexport default Utiles;","map":{"version":3,"names":["Chart","RUTA","MESES","Utiles","resetearGrafica","contenedor","grafica","id","$contenedorGrafica","document","querySelector","$grafica","remove","$nuevaGrafica","createElement","setAttribute","appendChild","generarGrafica","tipo","array","labels","generarEtiquetas","totales","generarValores","data","datasets","label","backgroundColor","generarColores","length","fill","tension","borderWidth","ctx","getElementById","getContext","options","responsive","maintainAspectRatio","scales","y","beginAtZero","type","tamanio","colores","i","push","Math","floor","random","toString","cambiarNumeroANombreMes","pos","mes","map","elemento","Object","keys","totalVentas","validarDatos","datos","errores","entries","clave","valor","calcularTotalGanancia","ventas","total","forEach","venta","productos","producto","parseFloat","cantidad","precio","precioCompra","calcularProductosVendidos","regresarRuta"],"sources":["C:/xampp/htdocs/pos/src/Servicios/Utiles.js"],"sourcesContent":["   import Chart from 'chart.js'\r\n   const RUTA = 'http://localhost/pos/api' \r\n   const MESES = [\"Enero\" ,\"Febrero\" ,\"Marzo\" ,\"Abril\" ,\"Mayo\" ,\"Junio\" ,\"Julio\" ,\"Agosto\" ,\"Septiembre\" ,\"Octubre\" ,\"Noviembre\" ,\"Diciembre\"]\r\n\r\n   const Utiles = {\r\n\r\n   resetearGrafica(contenedor, grafica, id){\r\n      const $contenedorGrafica = document.querySelector(contenedor)\r\n      let $grafica = document.querySelector(grafica)\r\n      $grafica.remove()\r\n      let $nuevaGrafica = document.createElement(\"canvas\")\r\n      $nuevaGrafica.setAttribute(\"id\",id)\r\n      $contenedorGrafica.appendChild($nuevaGrafica)\r\n   },\r\n\r\n   generarGrafica(tipo, array, contenedor, grafica, id){\r\n      this.resetearGrafica(contenedor, grafica, id)\r\n\r\n      const labels = this.generarEtiquetas(array)\r\n      const totales = this.generarValores(array)\r\n\r\n               \r\n      const data = {\r\n         labels: labels,\r\n         datasets: [{\r\n            label: \"Total \",\r\n            data: totales,\r\n            backgroundColor: this.generarColores(labels.length),\r\n            fill: false,\r\n            tension: 0.1,\r\n            borderWidth: 3\r\n         }]\r\n      }\r\n\r\n      var ctx = document.getElementById(id).getContext('2d');\r\n\r\n      var options = {\r\n         responsive: true,\r\n         maintainAspectRatio: false,\r\n         scales: {\r\n            y: {\r\n               beginAtZero: true\r\n            }\r\n         }\r\n      };\r\n               \r\n      new Chart(ctx, {\r\n         responsive: true,\r\n         type: tipo,\r\n         data: data,\r\n         options: options\r\n      });\r\n   },\r\n\r\n   generarColores(tamanio){\r\n      const colores = []\r\n      for(let i = 0; i<tamanio; i++){\r\n         colores.push(\"#\" + Math.floor(Math.random()*16777215).toString(16))\r\n      }\r\n\r\n      return colores\r\n   },\r\n      \r\n   cambiarNumeroANombreMes(array){\r\n      for(let i = 0; i < array.length; i++){\r\n          let pos = array[i].mes \r\n          array[i].mes = MESES[pos-1]\r\n       }\r\n       return array\r\n   },\r\n\r\n    generarEtiquetas(array){\r\n      const labels = array.map(elemento => {\r\n       return elemento[Object.keys(elemento)[0]]\r\n    })\r\n      return labels\r\n   },\r\n\r\n   generarValores(array){\r\n      const totales = array.map(elemento => {\r\n       return elemento.totalVentas\r\n    })\r\n      return totales\r\n   },\r\n\r\n   validarDatos(datos){\r\n      let errores = []\r\n      for (let [clave, valor] of Object.entries(datos)) {\r\n       if(!valor) errores.push(\"Debes colocar el valor de \" + clave)\r\n    }\r\n   return errores\r\n   },\r\n\r\n   calcularTotalGanancia(ventas) {\r\n     let total = 0\r\n     ventas.forEach(venta =>{\r\n      venta.productos.forEach(producto => {\r\n       total += parseFloat(producto.cantidad * producto.precio) - parseFloat(producto.cantidad * producto.precioCompra)\r\n    })\r\n   })\r\n     return total\r\n   },\r\n\r\n   calcularProductosVendidos(ventas){\r\n     let total = 0\r\n     ventas.forEach(venta =>{\r\n      venta.productos.forEach(producto => {\r\n       total+= parseFloat(producto.cantidad)\r\n    })\r\n   })\r\n     return total\r\n   },\r\n\r\n   regresarRuta(){\r\n     return RUTA\r\n   }\r\n   }\r\n\r\n   export default Utiles;"],"mappings":"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"},"metadata":{},"sourceType":"module"}