{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport FormConfiguracion from './FormConfiguracion';\nimport HttpService from '../../Servicios/HttpService';\nexport default {\n  name: \"ConfiguracionComponent\",\n  components: {\n    FormConfiguracion: FormConfiguracion\n  },\n  data: function data() {\n    return {\n      cargando: false,\n      datosNegocio: null\n    };\n  },\n  mounted: function mounted() {\n    this.obtenerDatos();\n  },\n  methods: {\n    onRegistrar: function onRegistrar(datos) {\n      var _this = this;\n\n      console.log(datos);\n      this.cargando = true;\n      HttpService.registrar('ajustes.php', {\n        accion: 'registrar',\n        ajustes: datos\n      }).then(function (resultado) {\n        if (resultado) {\n          _this.cargando = false;\n\n          _this.$buefy.toast.open({\n            type: 'is-info',\n            message: 'Información actualizada con éxito.'\n          });\n\n          _this.obtenerDatos();\n        }\n      });\n    },\n    obtenerDatos: function obtenerDatos() {\n      var _this2 = this;\n\n      this.cargando = true;\n      HttpService.obtenerConConsultas('ajustes.php', {\n        accion: 'obtener'\n      }).then(function (resultado) {\n        _this2.datosNegocio = resultado;\n        _this2.cargando = false;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;AAcA;AACA;AAEA;EACAA,8BADA;EAEAC;IAAAC;EAAA,CAFA;EAIAC;IAAA;MACAC,eADA;MAEAC;IAFA;EAAA,CAJA;EASAC,OATA,qBASA;IACA;EACA,CAXA;EAaAC;IACAC,WADA,uBACAC,KADA,EACA;MAAA;;MACAC;MACA;MACAC;QACAC,mBADA;QAEAC;MAFA,GAIAC,IAJA,CAIA;QACA;UACA;;UACA;YACAC,eADA;YAEAC;UAFA;;UAIA;QACA;MACA,CAbA;IAcA,CAlBA;IAoBAC,YApBA,0BAoBA;MAAA;;MACA;MACAN;QACAC;MADA,GAGAE,IAHA,CAGA;QACA;QACA;MACA,CANA;IAOA;EA7BA;AAbA","names":["name","components","FormConfiguracion","data","cargando","datosNegocio","mounted","methods","onRegistrar","datos","console","HttpService","accion","ajustes","then","type","message","obtenerDatos"],"sourceRoot":"src/components/Configuracion","sources":["ConfiguracionComponent.vue"],"sourcesContent":["<template>\r\n\t<section>\r\n\t\t<h1 class=\"title is-1\">Configuración general</h1>\r\n\t\t<b-breadcrumb\r\n            align=\"is-left\"\r\n        >\r\n            <b-breadcrumb-item tag='router-link' to=\"/\">Inicio</b-breadcrumb-item>\r\n            <b-breadcrumb-item acive>Configurar</b-breadcrumb-item>\r\n        </b-breadcrumb>\r\n\t\t<form-configuracion :datos=\"datosNegocio\" @registrar=\"onRegistrar\" v-if=\"datosNegocio\"/>\r\n\t\t<b-loading :is-full-page=\"true\" v-model=\"cargando\" :can-cancel=\"false\"></b-loading>\r\n\t</section>\r\n</template>\r\n<script>\r\n\timport FormConfiguracion from './FormConfiguracion'\r\n\timport HttpService from '../../Servicios/HttpService'\r\n\r\n\texport default{\r\n\t\tname: \"ConfiguracionComponent\",\r\n\t\tcomponents: { FormConfiguracion },\r\n\r\n\t\tdata:()=>({\r\n\t\t\tcargando: false,\r\n\t\t\tdatosNegocio: null\r\n\t\t}),\r\n\r\n\t\tmounted(){\r\n\t\t\tthis.obtenerDatos()\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tonRegistrar(datos){\r\n\t\t\t\tconsole.log(datos)\r\n\t\t\t\tthis.cargando = true\r\n\t\t\t\tHttpService.registrar('ajustes.php', {\r\n\t\t\t\t\taccion: 'registrar', \r\n\t\t\t\t\tajustes: datos\r\n\t\t\t\t})\r\n\t\t\t\t.then(resultado =>{\r\n\t\t\t\t\tif(resultado){\r\n\t\t\t\t\t\tthis.cargando = false\r\n\t\t\t\t\t\tthis.$buefy.toast.open({\r\n                          type: 'is-info',\r\n                          message: 'Información actualizada con éxito.'\r\n                        })\r\n                        this.obtenerDatos()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tobtenerDatos(){\r\n\t\t\t\tthis.cargando = true\r\n\t\t\t\tHttpService.obtenerConConsultas('ajustes.php', {\r\n\t\t\t\t\taccion: 'obtener'\r\n\t\t\t\t})\r\n\t\t\t\t.then(resultado => {\r\n\t\t\t\t\tthis.datosNegocio = resultado\r\n\t\t\t\t\tthis.cargando = false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}