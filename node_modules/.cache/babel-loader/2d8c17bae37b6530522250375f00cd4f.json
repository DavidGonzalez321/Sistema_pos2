{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BusquedaCliente from '../Clientes/BusquedaCliente';\nexport default {\n  name: \"DialogoTerminarVenta\",\n  props: ['totalVenta'],\n  components: {\n    BusquedaCliente: BusquedaCliente\n  },\n  data: function data() {\n    return {\n      pagado: \"\",\n      cambio: 0,\n      cliente: {}\n    };\n  },\n  mounted: function mounted() {\n    this.$refs.pagado.focus();\n  },\n  methods: {\n    onSeleccionado: function onSeleccionado(cliente) {\n      this.cliente = cliente;\n    },\n    calcularCambio: function calcularCambio() {\n      this.cambio = parseFloat(this.pagado - this.totalVenta);\n    },\n    terminarVenta: function terminarVenta() {\n      if (this.pagado === \"\" || this.pagado < this.totalVenta) {\n        this.$buefy.toast.open({\n          type: 'is-danger',\n          message: 'Debes colocar el total pagado.'\n        });\n        return;\n      }\n\n      var payload = {\n        tipo: 'venta',\n        pagado: this.pagado,\n        cambio: this.cambio,\n        cliente: this.cliente\n      };\n      this.$emit(\"terminar\", payload);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AAEA;EACAA,4BADA;EAEAC,qBAFA;EAGAC;IAAAC;EAAA,CAHA;EAKAC;IAAA;MACAC,UADA;MAEAC,SAFA;MAGAC;IAHA;EAAA,CALA;EAWAC,OAXA,qBAWA;IACA;EACA,CAbA;EAeAC;IACAC,cADA,0BACAH,OADA,EACA;MACA;IACA,CAHA;IAKAI,cALA,4BAKA;MACA;IACA,CAPA;IASAC,aATA,2BASA;MACA;QACA;UACAC,iBADA;UAEAC;QAFA;QAIA;MACA;;MAEA;QACAC,aADA;QAEAV,mBAFA;QAGAC,mBAHA;QAIAC;MAJA;MAOA;IACA;EA1BA;AAfA","names":["name","props","components","BusquedaCliente","data","pagado","cambio","cliente","mounted","methods","onSeleccionado","calcularCambio","terminarVenta","type","message","tipo"],"sourceRoot":"src/components/Ventas","sources":["DialogoTerminarVenta.vue"],"sourcesContent":["<template>\r\n\t<form action=\"\">\r\n\t\t<div class=\"modal-card\" style=\"width: 600px\">\r\n\t\t\t<header class=\"modal-card-head has-background-success\">\r\n\t\t\t\t<p class=\"modal-card-title has-text-white\">Terminar venta</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"delete\"\r\n\t\t\t\t\t@click=\"$emit('close', 'venta')\"/>\r\n\t\t\t</header>\r\n\t\t\t<section class=\"modal-card-body\">\r\n\t\t\t\t<p class=\"is-size-1 has-text-weight-bold\">Total ${{ totalVenta }}</p>\r\n\t\t\t\t<busqueda-cliente @seleccionado=\"onSeleccionado\" />\r\n\t\t\t\t<b-field label=\"El cliente paga con\" >\r\n\t\t\t\t\t<b-input step=\"any\" ref=\"pagado\" icon=\"currency-usd\" type=\"number\" placeholder=\"Monto pagado\" v-model=\"pagado\" @input=\"calcularCambio\" @keyup.enter.native=\"terminarVenta\" size=\"is-medium\"></b-input>\r\n\t\t\t\t</b-field>\r\n\t\t\t\t<p class=\"is-size-1 has-text-weight-bold\">Cambio ${{ cambio }}</p>\r\n\t\t\t</section>\r\n\t\t\t<footer class=\"modal-card-foot\">\r\n\t\t\t\t<b-button\r\n\t\t\t\t\tlabel=\"Cancelar\"\r\n\t\t\t\t\ticon-left=\"cancel\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\t@click=\"$emit('close', 'venta')\" />\r\n\t\t\t\t<b-button\r\n\t\t\t\t\tlabel=\"Terminar venta\"\r\n\t\t\t\t\ttype=\"is-success\"\r\n\t\t\t\t\ticon-left=\"check\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\t@click=\"terminarVenta\" />\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t</form>\r\n</template>\r\n<script>\r\n\timport BusquedaCliente from '../Clientes/BusquedaCliente'\r\n\r\n\texport default{\r\n\t\tname:\"DialogoTerminarVenta\",\r\n\t\tprops: ['totalVenta'],\r\n\t\tcomponents: { BusquedaCliente },\r\n\r\n\t\tdata:()=>({\r\n\t\t\tpagado: \"\",\r\n\t\t\tcambio: 0,\r\n\t\t\tcliente: {}\r\n\t\t}),\r\n\r\n\t\tmounted(){\r\n\t\t\tthis.$refs.pagado.focus()\r\n\t\t},\r\n\r\n\t\tmethods:{\r\n\t\t\tonSeleccionado(cliente){\r\n\t\t\t\tthis.cliente = cliente\r\n\t\t\t},\r\n\r\n\t\t\tcalcularCambio(){\r\n\t\t\t\tthis.cambio = parseFloat(this.pagado-this.totalVenta)\r\n\t\t\t},\r\n\r\n\t\t\tterminarVenta(){\r\n\t\t\t\tif(this.pagado === \"\" || this.pagado < this.totalVenta) {\r\n\t\t\t\t\tthis.$buefy.toast.open({\r\n                         type: 'is-danger',\r\n                         message: 'Debes colocar el total pagado.'\r\n                    })\r\n                    return\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet payload = {\r\n\t\t\t\t\ttipo: 'venta',\r\n\t\t\t\t\tpagado: this.pagado,\r\n\t\t\t\t\tcambio: this.cambio,\r\n\t\t\t\t\tcliente: this.cliente\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$emit(\"terminar\", payload)\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}