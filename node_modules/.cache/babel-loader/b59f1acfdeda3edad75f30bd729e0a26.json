{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport HttpService from '../../Servicios/HttpService';\nexport default {\n  name: \"BuscarProducto\",\n  data: function data() {\n    return {\n      producto: \"\",\n      productosEncontrados: []\n    };\n  },\n  mounted: function mounted() {\n    this.ponerFocus();\n  },\n  methods: {\n    seleccionarProducto: function seleccionarProducto(opcion) {\n      var _this = this;\n\n      if (!opcion) return;\n      this.$emit(\"seleccionado\", opcion);\n      this.ponerFocus();\n      setTimeout(function () {\n        return _this.producto = '';\n      }, 10);\n    },\n    buscarProductos: function buscarProductos() {\n      var _this2 = this;\n\n      var payload = {\n        accion: 'obtener_nombre_codigo',\n        producto: this.producto\n      };\n      HttpService.obtenerConConsultas('productos.php', payload).then(function (productos) {\n        _this2.productosEncontrados = productos;\n      });\n    },\n    ponerFocus: function ponerFocus() {\n      document.querySelector(\"#producto\").focus();\n    }\n  },\n  computed: {\n    productosFiltrados: function productosFiltrados() {\n      var _this3 = this;\n\n      return this.productosEncontrados.filter(function (opcion) {\n        return opcion.nombre.toString().toLowerCase().indexOf(_this3.producto.toLowerCase()) >= 0 || opcion.codigo.toString().indexOf(_this3.producto) >= 0;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AAiBA;AAEA;EACAA,sBADA;EAGAC;IAAA;MACAC,YADA;MAEAC;IAFA;EAAA,CAHA;EAQAC,OARA,qBAQA;IACA;EACA,CAVA;EAYAC;IACAC,mBADA,+BACAC,MADA,EACA;MAAA;;MACA;MAEA;MACA;MACAC;QAAA;MAAA;IACA,CAPA;IASAC,eATA,6BASA;MAAA;;MACA;QACAC,+BADA;QAEAR;MAFA;MAKAS,0DACAC,IADA,CACA;QACA;MACA,CAHA;IAIA,CAnBA;IAqBAC,UArBA,wBAqBA;MACAC;IACA;EAvBA,CAZA;EAsCAC;IACAC,kBADA,gCACA;MAAA;;MACA;QACA,OACAT,cACAU,QADA,GAEAC,WAFA,GAGAC,OAHA,CAGA,6BAHA,KAGA,CAHA,IAKAZ,cACAU,QADA,GAEAE,OAFA,CAEA,eAFA,KAEA,CARA;MAUA,CAXA;IAYA;EAdA;AAtCA","names":["name","data","producto","productosEncontrados","mounted","methods","seleccionarProducto","opcion","setTimeout","buscarProductos","accion","HttpService","then","ponerFocus","document","computed","productosFiltrados","toString","toLowerCase","indexOf"],"sourceRoot":"src/components/Inventario","sources":["BuscarProducto.vue"],"sourcesContent":["<template>\r\n\t<b-field label=\"Buscar producto por nombre o código de barras\">\r\n\t\t<b-autocomplete\r\n\t\t\tv-model=\"producto\"\r\n\t\t\tid=\"producto\"\r\n\t\t\tplaceholder=\"Escribe el nombre o el código de barras del producto\"\r\n\t\t\t:keep-first=\"true\"\r\n\t\t\t:data=\"productosFiltrados\"\r\n\t\t\tfield=\"nombre\"\r\n\t\t\t@input=\"buscarProductos\"\r\n\t\t\t@select=\"seleccionarProducto\"\r\n\t\t\tsize=\"is-large\"\r\n\t\t>\r\n\t\t</b-autocomplete>\r\n\t</b-field>\r\n</template>\r\n<script>\r\n\timport HttpService from '../../Servicios/HttpService'\r\n\r\n\texport default {\r\n\t\tname: \"BuscarProducto\",\r\n\r\n\t\tdata:()=>({\r\n\t\t\tproducto: \"\",\r\n\t\t\tproductosEncontrados: []\r\n\t\t}),\r\n\r\n\t\tmounted(){\r\n\t\t\tthis.ponerFocus()\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tseleccionarProducto(opcion) {\r\n\t\t\t\tif(!opcion) return\r\n\t\t\r\n\t\t\t\tthis.$emit(\"seleccionado\", opcion)\r\n\t\t\tthis.ponerFocus()\r\n\t\t\t\tsetTimeout(() => this.producto = '', 10)\r\n\t\t\t},\r\n\r\n\t\t\tbuscarProductos(){\r\n\t\t\t\tlet payload = {\r\n\t\t\t\t\taccion: 'obtener_nombre_codigo',\r\n\t\t\t\t\tproducto: this.producto\r\n\t\t\t\t}\r\n\r\n\t\t\t\tHttpService.obtenerConConsultas('productos.php', payload)\r\n\t\t\t\t.then(productos =>{ \r\n\t\t\t\t\tthis.productosEncontrados = productos\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tponerFocus(){\r\n\t\t\t\tdocument.querySelector(\"#producto\").focus()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tproductosFiltrados() {\r\n\t\t\t\treturn this.productosEncontrados.filter(opcion => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\topcion.nombre\r\n\t\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.indexOf(this.producto.toLowerCase()) >= 0\r\n\t\t\t\t\t\t\t||\r\n\t\t\t\t\t\topcion.codigo\r\n\t\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t\t.indexOf(this.producto) >= 0\t\t\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}