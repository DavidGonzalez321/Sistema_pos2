{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport HttpService from '../../Servicios/HttpService';\nexport default {\n  name: \"BusquedaCliente\",\n  data: function data() {\n    return {\n      cliente: \"\",\n      clientesEncontrados: [],\n      clienteSeleccionado: null\n    };\n  },\n  methods: {\n    deseleccionarCliente: function deseleccionarCliente() {\n      this.clienteSeleccionado = null;\n    },\n    seleccionarCliente: function seleccionarCliente(opcion) {\n      var _this = this;\n\n      if (!opcion) return;\n      this.clienteSeleccionado = opcion;\n      this.$emit(\"seleccionado\", this.clienteSeleccionado);\n      setTimeout(function () {\n        return _this.cliente = '';\n      }, 10);\n    },\n    buscarClientes: function buscarClientes() {\n      var _this2 = this;\n\n      var payload = {\n        accion: 'obtener_por_nombre',\n        nombre: this.cliente\n      };\n      HttpService.obtenerConConsultas('clientes.php', payload).then(function (clientes) {\n        _this2.clientesEncontrados = clientes;\n      });\n    }\n  },\n  computed: {\n    clientesFiltrados: function clientesFiltrados() {\n      var _this3 = this;\n\n      return this.clientesEncontrados.filter(function (opcion) {\n        return opcion.nombre.toString().toLowerCase().indexOf(_this3.cliente.toLowerCase()) >= 0;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AAEA;EACAA,uBADA;EAGAC;IAAA;MACAC,WADA;MAEAC,uBAFA;MAGAC;IAHA;EAAA,CAHA;EASAC;IACAC,oBADA,kCACA;MACA;IACA,CAHA;IAIAC,kBAJA,8BAIAC,MAJA,EAIA;MAAA;;MACA;MACA;MACA;MACAC;QAAA;MAAA;IACA,CATA;IAWAC,cAXA,4BAWA;MAAA;;MACA;QACAC,4BADA;QAEAC;MAFA;MAKAC,yDACAC,IADA,CACA;QACA;MACA,CAHA;IAIA;EArBA,CATA;EAiCAC;IACAC,iBADA,+BACA;MAAA;;MACA;QACA,OACAR,cACAS,QADA,GAEAC,WAFA,GAGAC,OAHA,CAGA,4BAHA,KAGA,CAJA;MAMA,CAPA;IAQA;EAVA;AAjCA","names":["name","data","cliente","clientesEncontrados","clienteSeleccionado","methods","deseleccionarCliente","seleccionarCliente","opcion","setTimeout","buscarClientes","accion","nombre","HttpService","then","computed","clientesFiltrados","toString","toLowerCase","indexOf"],"sourceRoot":"src/components/Clientes","sources":["BusquedaCliente.vue"],"sourcesContent":["<template>\r\n\t<section>\r\n\t\t<b-field label=\"Nombre del cliente\">\r\n\t\t\t<b-autocomplete\r\n\t\t\t\tv-model=\"cliente\"\r\n\t\t\t\tid=\"cliente\"\r\n\t\t\t\tplaceholder=\"Escribe el nombre del cliente\"\r\n\t\t\t\t:keep-first=\"true\"\r\n\t\t\t\t:data=\"clientesFiltrados\"\r\n\t\t\t\tfield=\"nombre\"\r\n\t\t\t\t@input=\"buscarClientes\"\r\n\t\t\t\t@select=\"seleccionarCliente\"\r\n\t\t\t\tsize=\"is-medium\"\r\n\t\t\t>\r\n\t\t\t</b-autocomplete>\r\n\t\t</b-field>\r\n\t\t<div class=\"notification is-info mt-2\" v-if=\"clienteSeleccionado\">\r\n\t\t\t<button class=\"delete\" @click=\"deseleccionarCliente\"></button>\r\n\t\t\t<p>Cliente: <b>{{ clienteSeleccionado.nombre }}</b></p>\r\n\t\t\t<p>Tel√©fono: <b>{{ clienteSeleccionado.telefono }}</b></p>\r\n\t\t</div>\r\n\t</section>\r\n</template>\r\n<script>\r\n\timport HttpService from '../../Servicios/HttpService'\r\n\r\n\texport default{\r\n\t\tname: \"BusquedaCliente\",\r\n\r\n\t\tdata:()=>({\r\n\t\t\tcliente: \"\",\r\n\t\t\tclientesEncontrados: [],\r\n\t\t\tclienteSeleccionado: null\r\n\t\t}),\r\n\r\n\t\tmethods: {\r\n\t\t\tdeseleccionarCliente(){\r\n\t\t\t\tthis.clienteSeleccionado = null\r\n\t\t\t},\r\n\t\t\tseleccionarCliente(opcion) {\r\n\t\t\t\tif(!opcion) return\r\n\t\t\t\tthis.clienteSeleccionado = opcion\r\n\t\t\t\tthis.$emit(\"seleccionado\", this.clienteSeleccionado)\r\n\t\t\t\tsetTimeout(() => this.cliente = '', 10)\r\n\t\t\t},\r\n\r\n\t\t\tbuscarClientes(){\r\n\t\t\t\tlet payload = {\r\n\t\t\t\t\taccion: 'obtener_por_nombre',\r\n\t\t\t\t\tnombre: this.cliente\r\n\t\t\t\t}\r\n\r\n\t\t\t\tHttpService.obtenerConConsultas('clientes.php', payload)\r\n\t\t\t\t.then(clientes =>{ \r\n\t\t\t\t\tthis.clientesEncontrados = clientes\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tclientesFiltrados() {\r\n\t\t\t\treturn this.clientesEncontrados.filter(opcion => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\topcion.nombre\r\n\t\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.indexOf(this.cliente.toLowerCase()) >= 0\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module"}